(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{VqwB:function(e,t,o){"use strict";o.r(t);var a={head:{title:function(){return{inner:"Add-on Modules"}}},data:function(){return{endpoint:"/datatable/modules"}},methods:{upload:function(e){var t=this;if(void 0!==e){var o=new FormData;o.append("_method","POST"),o.append("file-upload",e),axios.post("/api/modules",o).then((function(){toast("Module successfully uploaded!","success"),t.$refs.upload.remove(),proton().$emit("refresh-datatable-modules")}))}},destroy:function(e){axios.delete("/api/modules/"+e).then((function(e){toast("Module successfully removed.","success"),proton().$emit("refresh-datatable-modules")}))}}},n=o("KHd+"),l=Object(n.a)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("portal",{attrs:{to:"title"}},[o("app-title",{attrs:{icon:"project-diagram"}},[e._v("Add-on Modules")])],1),e._v(" "),o("portal",{attrs:{to:"actions"}},[o("p-button",{directives:[{name:"modal",rawName:"v-modal:upload-module",arg:"upload-module"}],staticClass:"button"},[e._v("Upload Module")])],1),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"content-container"},[o("p-table",{key:"modules_table",attrs:{endpoint:e.endpoint,id:"modules","sort-by":"name","no-search":"","primary-key":"handle"},scopedSlots:e._u([{key:"name",fn:function(t){return[o("div",{staticClass:"flex items-center"},[o("p-status",{staticClass:"mr-2",attrs:{value:t.record.enabled}}),e._v("\n\n                        "+e._s(t.record.name)+"\n                    ")],1)]}},{key:"slug",fn:function(t){return[e._v("\n                    "+e._s(t.record.slug)+"\n                ")]}},{key:"version",fn:function(t){return[o("span",{staticClass:"badge"},[e._v(e._s(t.record.version))])]}},{key:"description",fn:function(t){return[o("span",{staticClass:"text-gray-800 text-sm"},[e._v(e._s(t.record.description))])]}},{key:"actions",fn:function(t){return[o("p-actions",{key:"module_"+t.record.id+"_actions",attrs:{id:"module_"+t.record.id+"_actions"}},[o("p-dropdown-link",{directives:[{name:"modal",rawName:"v-modal:delete-module",value:t.record,expression:"table.record",arg:"delete-module"}],attrs:{classes:"link--danger"},on:{click:function(e){e.preventDefault()}}},[e._v("\n                            Uninstall\n                        ")])],1)]}}])})],1)]),e._v(" "),o("portal",{attrs:{to:"modals"}},[o("p-modal",{key:"uninstall_module",attrs:{name:"delete-module",title:"Uninstall Module"},scopedSlots:e._u([{key:"footer",fn:function(t){return[o("p-button",{directives:[{name:"modal",rawName:"v-modal:delete-module",arg:"delete-module"}],staticClass:"ml-3",attrs:{theme:"danger"},on:{click:function(o){return e.destroy(t.data.slug)}}},[e._v("Delete")]),e._v(" "),o("p-button",{directives:[{name:"modal",rawName:"v-modal:delete-module",arg:"delete-module"}]},[e._v("Cancel")])]}}])},[o("p",[e._v("Are you sure you want to permenantly delete this module?")])]),e._v(" "),o("p-modal",{key:"upload_module",attrs:{name:"upload-module",title:"Upload Module"}},[o("p-upload",{ref:"upload",attrs:{name:"file-upload",accept:"zip",multiple:!1},on:{input:e.upload}})],1)],1)],1)}),[],!1,null,null,null);t.default=l.exports}}]);