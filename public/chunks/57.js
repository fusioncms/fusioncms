(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"8kUA":function(t,e,s){"use strict";s.r(e);var i=s("L2JU"),a=s("n/Zj"),l=s("O3a7"),r=s("vvXJ"),c=s("IDoC"),n=s("4XVt"),o={mixins:[s("I4cb").default]},d=s("KHd+"),v=Object(d.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gallery-container"},[s("div",{staticClass:"gallery mb-12"},[t.currentDirectory?s("file-manager-directory",{key:"directory-"+t.currentDirectory,attrs:{directory:{id:t.parentDirectory,name:"Go up"},subtitle:"..",unselectable:""}}):t._e(),t._v(" "),t._l(t.directories,(function(t){return s("file-manager-directory",{key:t.id,attrs:{directory:t,subtitle:t.files_count+" items"}})}))],2),t._v(" "),t.files.length?s("div",{staticClass:"gallery"},t._l(t.files,(function(t){return s("div",{key:t.uuid},[s("file-manager-file",{attrs:{file:t}})],1)})),0):t._e()])}),[],!1,null,null,null).exports,f={mixins:[s("I4cb").default]},u=Object(d.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gallery-container"},[t._m(0),t._v(" "),t.currentDirectory?s("div",{key:"directory-"+t.currentDirectory,staticClass:"flex p-3"},[s("div",{staticClass:"w-1/5"},[s("file-manager-directory",{attrs:{small:"",unselectable:"",directory:{id:t.parentDirectory,name:"Go up"}}})],1),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v("..")]),t._v(" "),s("div",{staticClass:"w-1/5"}),t._v(" "),s("div",{staticClass:"w-1/5"}),t._v(" "),s("div",{staticClass:"w-1/5"})]):t._e(),t._v(" "),t._l(t.directories,(function(e){return s("div",{key:e.id,staticClass:"flex p-3"},[s("div",{staticClass:"w-1/5"},[s("file-manager-directory",{attrs:{small:"",directory:e}})],1),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"w-1/5"}),t._v(" "),s("div",{staticClass:"w-1/5"}),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v(t._s(t.$moment(e.updated_at).format("MMM Do, YYYY")))])])})),t._v(" "),t._l(t.files,(function(e){return s("div",{key:e.uuid,staticClass:"flex p-3"},[s("div",{staticClass:"flex w-full"},[s("div",{staticClass:"w-1/5"},[s("file-manager-file",{attrs:{small:"",file:e}})],1),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v(t._s(t._f("bytes")(e.bytes)))]),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v(t._s(e.mimetype))]),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v(t._s(t.$moment(e.updated_at).format("MMM Do, YYYY")))])])])}))],2)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex font-bold px-3"},[s("div",{staticClass:"w-1/5"}),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v("Name")]),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v("File size")]),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v("Mimetype")]),t._v(" "),s("div",{staticClass:"w-1/5"},[t._v("Last modified")])])}],!1,null,null,null).exports;function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(Object(s),!0).forEach((function(e){b(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function b(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var y={name:"asset-fieldtype",components:{"display-action":l.a,"breadcrumb-action":a.a,"search-action":r.a,"sort-action":c.a,"view-action":n.a,"grid-view":v,"list-view":u},data:function(){return{modalOpen:!1,selected:{}}},props:{field:{type:Object,required:!0},value:{type:Object,required:!1,default:function(){}}},computed:p({},Object(i.c)({selectedFiles:"filemanager/getSelectedFiles",files:"filemanager/getFiles",view:"filemanager/getView"}),{hasSelection:function(){return _.size(this.selected)>0}}),methods:p({},Object(i.b)({clearFileSelection:"filemanager/clearFileSelection",reset:"filemanager/reset"}),{add:function(){var t=this;_.forEach(this.selectedFiles,(function(e){t.$set(t.selected,e,_.find(t.files,["id",e]))})),this.$emit("input",this.selected),this.clearFileSelection()},remove:function(t){this.$delete(this.selected,t)},open:function(){this.modalOpen=!0,this.reset(),this.selected=Object.assign({},this.value)},close:function(){this.modalOpen=!1,this.reset()}})},C=Object(d.a)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",{staticClass:"form__label",attrs:{for:t.field.handle}},[t._v(t._s(t.field.name))]),t._v(" "),s("div",{staticClass:"border-b border-gray-200 m-2 py-2"},[s("p-button",{attrs:{theme:"secondary"},on:{click:t.open}},[s("fa-icon",{staticClass:"mr-1",attrs:{icon:["fas","plus-circle"]}}),t._v(" Asset\n\t\t\t")],1)],1),t._v(" "),s("div",{staticClass:"flex items-center justify-start"},t._l(t.value,(function(e,i){return s("p-button",{key:e.id,staticClass:"mx-2",on:{click:function(s){return t.remove(e.id)}}},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t"),s("fa-icon",{staticClass:"ml-2",attrs:{icon:["fas","times-circle"]}})],1)})),1),t._v(" "),s("p-modal",{attrs:{name:"file-manager","no-header":"","no-footer":"","extra-large":""},model:{value:t.modalOpen,callback:function(e){t.modalOpen=e},expression:"modalOpen"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"side-container"},[s("div",{staticClass:"card h-full"},[s("div",{staticClass:"border-b border-gray-200 px-3 py-2 text-right"},[s("p-button",{on:{click:t.close}},[s("fa-icon",{attrs:{icon:["fas","times"]}})],1)],1),t._v(" "),t.hasSelection?s("div",{staticClass:"row"},[s("p-sortable-list",{staticClass:"sortable-list",model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("div",{staticClass:"col mb-6 w-full"},t._l(t.selected,(function(e,i){return s("p-sortable-item",{key:e.id},[s("div",{staticClass:"flex items-center justify-between py-2 px-3"},[s("p-sortable-handle",{staticClass:"cursor-move w-1/5"},[s("fa-icon",{staticClass:"handle fa-fw text-gray-400",attrs:{icon:"ellipsis-v"}})],1),t._v(" "),s("p-img",{attrs:{src:e.url+"?w=50&h=50&fit=crop",width:50,height:50}}),t._v(" "),s("div",[t._v(t._s(e.name))]),t._v(" "),s("p-button",{attrs:{theme:"danger"},on:{click:function(s){return t.remove(e.id)}}},[s("fa-icon",{attrs:{icon:["fas","trash"]}})],1)],1)])})),1)])],1):s("div",{staticClass:"h-full flex flex-col justify-center items-center text-5xl text-gray-300"},[s("fa-icon",{staticClass:"fa-fw fa-3x",attrs:{icon:["far","copy"]}}),t._v(" "),s("span",{staticClass:"text-lg py-2 text-gray-500"},[t._v("Select some files...")])],1)])]),t._v(" "),s("div",{staticClass:"content-container"},[s("div",{staticClass:"card"},[s("div",{staticClass:"flex items-center justify-between px-3 pt-2"},[s("ul",[s("li",{staticClass:"mr-4"},[s("p-button",{attrs:{theme:"success"},on:{click:t.add}},[s("fa-icon",{staticClass:"mr-1",attrs:{icon:["fas","arrow-alt-circle-left"]}})],1)],1)]),t._v(" "),s("ul",{staticClass:"flex w-full"},[s("li",{staticClass:"mr-2 w-full"},[s("search-action")],1)]),t._v(" "),s("ul",{staticClass:"flex"},[s("li",{staticClass:"mr-2"},[s("display-action")],1),t._v(" "),s("li",{staticClass:"mr-2"},[s("sort-action")],1),t._v(" "),s("li",{staticClass:"mr-2"},[s("view-action")],1)])]),t._v(" "),s("div",{staticClass:"flex items-center border-b border-gray-200 px-3 py-2"},[s("breadcrumb-action")],1),t._v(" "),s(t.view+"-view",{tag:"component"})],1)])])])],1)}),[],!1,null,null,null);e.default=C.exports}}]);